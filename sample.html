<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Your Skin Care — Product Detail (with Video)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --green:#2e8b57;
      --light:#f7f9f7;
      --muted:#6b6b6b;
      --accent:#e9f5ee;
      --card-radius:10px;
      --max-width:1200px;
    }
    *{box-sizing:border-box}
    body{
      font-family: 'Segoe UI', Roboto, Arial, sans-serif;
      margin:0; color:#222; background:#fff; padding:24px; display:flex; justify-content:center;
    }
    .page{max-width:var(--max-width); width:100%;}
    .product-row{display:grid; grid-template-columns:1fr 1fr; gap:24px; align-items:start;}
    @media(max-width:900px){ .product-row{grid-template-columns:1fr;} }

    /* IMAGE / MEDIA COLUMN */
    .image-col{ background:var(--light); padding:18px; border-radius:var(--card-radius); text-align:center; }
    .media-wrap{ position:relative; background:#fff; border-radius:8px; padding:12px; box-shadow:0 6px 18px rgba(46,139,87,0.06); }
    .main-image, .main-video{ width:100%; max-height:420px; object-fit:contain; border-radius:6px; display:block; }
    .main-video{ display:none; background:#000; }

    /* play overlay used when video is active or showing thumbnail */
    .play-overlay{
      position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); z-index:5;
      width:84px; height:84px; border-radius:50%; background:rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; cursor:pointer;
      color:#fff; font-size:34px; border:3px solid rgba(255,255,255,0.12);
    }

    .thumbs{ display:flex; gap:10px; margin-top:12px; justify-content:center; flex-wrap:wrap; }
    .thumb{ width:68px; height:68px; border-radius:8px; position:relative; overflow:hidden; cursor:pointer; border:2px solid transparent; display:inline-block; }
    .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
    .thumb.active{ border-color:var(--green); transform:scale(1.03); }
    .thumb .play-mini{
      position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); color:#fff; font-size:16px; display:none;
      background:rgba(0,0,0,0.45); width:34px; height:34px; border-radius:50%; align-items:center; justify-content:center; display:flex;
    }
    .thumb.video .play-mini{ display:flex; }

    /* DETAILS COLUMN */
    .details-col{ padding:18px 8px; }
    .product-title{ font-size:22px; font-weight:700; margin:0 0 10px; }
    .rating-row{ display:flex; align-items:center; gap:12px; margin-bottom:12px; }
    .stars{ color:#f5b400; font-size:18px; }
    .rating-count{ color:var(--muted); font-size:14px; margin-left:6px; }

    .price-row{ display:flex; align-items:center; gap:12px; margin:14px 0; }
    .price{ font-size:28px; font-weight:800; color:#111; }
    .old-price{ text-decoration:line-through; color:var(--muted); font-size:16px; }
    .badge-off{ color:var(--green); font-weight:700; margin-left:6px; }

    .tags{ display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 18px; }
    .tag{ background:var(--accent); color:var(--green); padding:6px 10px; border-radius:20px; font-size:13px; }

    .rewards{ background:#fff6f6; border-radius:8px; padding:10px; color:#d14b4b; display:inline-block; margin-bottom:12px; border:1px solid rgba(231,111,111,0.12); }

    .actions{ display:flex; gap:12px; align-items:center; margin:10px 0 20px; }
    .qty{ display:flex; align-items:center; border:1px solid #e5e5e5; padding:6px; border-radius:6px; }
    .qty button{ background:transparent; border:none; width:34px; height:34px; cursor:pointer; font-size:18px; color:var(--muted); }
    .qty input{ width:44px; text-align:center; border:none; outline:none; font-weight:700; }

    .add-btn{ background:var(--green); color:#fff; padding:12px 22px; border-radius:8px; border:none; cursor:pointer; font-weight:700; box-shadow:0 6px 14px rgba(46,139,87,0.12); }

    /* pin */
    .pincode-wrap{ margin:18px 0 10px; }
    .pincode-wrap input{ padding:10px; width:200px; border-radius:6px; border:1px solid #ddd; margin-right:8px; }
    .pincode-wrap button{ background:#f0827a; color:#fff; border:none; padding:10px 14px; border-radius:6px; cursor:pointer; }

    /* accordion */
    .accordion{ margin-top:22px; border-top:1px solid #e6ede6; }
    .acc-item{ border-bottom:1px solid #e6ede6; }
    .acc-header{ display:flex; justify-content:space-between; align-items:center; padding:14px 6px; cursor:pointer; font-weight:700; color:#1f3b2f; letter-spacing:1px; }
    .acc-body{ padding:12px 6px 22px; color:var(--muted); display:none; line-height:1.6; }

    /* reviews */
    .reviews{ margin-top:36px; background:var(--light); padding:18px; border-radius:12px; }
    .reviews-top{ display:flex; gap:24px; align-items:center; flex-wrap:wrap; }
    .rating-big{ font-size:28px; font-weight:700; color:#111; }
    .rating-bars{ flex:1; min-width:240px; }
    .bar-row{ display:flex; align-items:center; gap:8px; margin:8px 0; }
    .bar-row .label{ width:80px; color:var(--muted); font-size:14px; }
    .bar{ flex:1; height:12px; background:#eee; border-radius:8px; position:relative; overflow:hidden; }
    .bar > span{ position:absolute; left:0; top:0; bottom:0; background:var(--green); display:block; }

    .write-review-btn{ background:#ef9b95; color:#fff; padding:10px 20px; border-radius:24px; border:none; cursor:pointer; font-weight:700; }

    .review-list{ margin-top:16px; }
    .review-item{ border-top:1px solid #f0f0f0; padding:16px 0; }
    .review-item h4{ margin:0 0 6px; font-size:16px; }
    .review-item p{ margin:6px 0 0; color:var(--muted); line-height:1.6; }

    .review-form{ margin-top:14px; background:#fff; padding:14px; border-radius:8px; border:1px solid #e9f5ee; display:none; }
    .review-form input, .review-form textarea{ width:100%; padding:10px; border:1px solid #e9e9e9; border-radius:6px; margin-bottom:8px; }
    .review-form button{ background:var(--green); color:#fff; padding:10px 16px; border:none; border-radius:6px; cursor:pointer; }

    .small-muted{ color:var(--muted); font-size:13px; }
  </style>
</head>
<body>
  <div class="page">
    <div class="product-row">
      <!-- IMAGE / MEDIA COLUMN -->
      <div class="image-col">
        <div class="media-wrap" id="mediaWrap" style="position:relative;">
          <!-- MAIN IMAGE (default) -->
          <img id="mainImage" class="main-image" src="https://via.placeholder.com/600x600?text=Facewash+1" alt="Facewash">

          <!-- MAIN VIDEO (hidden by default) -->
          <video id="mainVideo" class="main-video" controls preload="metadata" playsinline>
            <source src="https://www.simpleskincare.in/cdn/shop/videos/c/vp/3ed9098a3e3b4a04be7e880d5783341e/3ed9098a3e3b4a04be7e880d5783341e.HD-1080p-7.2Mbps-19929149.mp4?v=0" type="video/mp4">
            Your browser does not support the video tag.
          </video>

          <!-- Play overlay (for video thumbnail or when video visible but not playing) -->
          <div id="playOverlay" class="play-overlay" title="Play video" style="display:none;">
            <i class="fa-solid fa-play"></i>
          </div>
        </div>

        <!-- THUMBNAILS: images + video thumb -->
        <div class="thumbs" id="thumbs">
          <div class="thumb active" data-type="image" data-full="https://via.placeholder.com/600x600?text=Facewash+1">
            <img src="https://via.placeholder.com/150x150?text=Facewash+1" alt="">
          </div>

          <div class="thumb" data-type="image" data-full="https://via.placeholder.com/600x600?text=Facewash+2">
            <img src="https://via.placeholder.com/150x150?text=Facewash+2" alt="">
          </div>

          <div class="thumb" data-type="image" data-full="https://via.placeholder.com/600x600?text=Facewash+3">
            <img src="https://via.placeholder.com/150x150?text=Facewash+3" alt="">
          </div>

          <!-- VIDEO THUMB: uses default play icon overlay on thumbnail -->
          <div class="thumb video" data-type="video" data-video-src="https://www.simpleskincare.in/cdn/shop/videos/c/vp/3ed9098a3e3b4a04be7e880d5783341e/3ed9098a3e3b4a04be7e880d5783341e.HD-1080p-7.2Mbps-19929149.mp4?v=0">
            <img src="https://via.placeholder.com/150x150?text=Video" alt="video thumb">
            <div class="play-mini"><i class="fa-solid fa-play"></i></div>
          </div>
        </div>
      </div>

      <!-- DETAILS COLUMN -->
      <div class="details-col">
        <h3 class="product-title">Your Skin Care — Tea Tree Pore Clarifying Gel Cleanser 150ml</h3>

        <div class="rating-row">
          <div class="stars" aria-hidden="true">
            <i class="fa-solid fa-star" style="color:#f5b400"></i>
            <i class="fa-solid fa-star" style="color:#f5b400"></i>
            <i class="fa-solid fa-star" style="color:#f5b400"></i>
            <i class="fa-solid fa-star-half-stroke" style="color:#f5b400"></i>
            <i class="fa-regular fa-star" style="color:#f5b400"></i>
          </div>
          <div class="rating-count">4.3 / 5.0 &nbsp; <span class="small-muted">Based on 120 reviews</span></div>
        </div>

        <div class="price-row">
          <div class="price">₹ 1320</div>
          <div class="old-price">₹ 1650</div>
          <div class="badge-off">20% OFF</div>
        </div>

        <div class="tags">
          <div class="tag">Clean Beauty</div>
          <div class="tag">Vegan</div>
          <div class="tag">Cruelty Free</div>
        </div>

        <div class="rewards">Get 27 Reward Points from this Purchase</div>

        <div class="actions">
          <div class="qty" aria-label="quantity selector">
            <button id="decBtn" type="button">−</button>
            <input id="qtyInput" type="text" value="1" />
            <button id="incBtn" type="button">+</button>
          </div>

          <button class="add-btn">ADD TO BAG</button>
        </div>

        <div class="pincode-wrap">
          <div style="display:flex; gap:8px; align-items:center;">
            <i class="fa-solid fa-truck" style="color:var(--green)"></i>
            <strong>Check Product Availability</strong>
          </div>
          <div style="margin-top:8px;">
            <input id="pincodeInput" placeholder="Enter Pincode" />
            <button id="checkPinBtn">Check Now</button>
          </div>
          <div class="pincode-result" id="pincodeResult"></div>
        </div>

        <div class="accordion" id="accordion">
          <div class="acc-item">
            <div class="acc-header">DESCRIPTION <i class="fa-solid fa-chevron-down"></i></div>
            <div class="acc-body">A clarifying gel cleanser with tea tree and natural exfoliants to remove excess oil, unclog pores and reduce breakouts. Gentle enough for daily use yet powerful for acne-prone skin. Leaves skin refreshed and balanced.</div>
          </div>
          <div class="acc-item">
            <div class="acc-header">HOW TO USE <i class="fa-solid fa-chevron-down"></i></div>
            <div class="acc-body">Wet face, apply a small amount, lather gently on the skin, then rinse thoroughly. Use morning and night for best results. Avoid contact with eyes.</div>
          </div>
          <div class="acc-item">
            <div class="acc-header">BENEFITS <i class="fa-solid fa-chevron-down"></i></div>
            <div class="acc-body">Controls sebum, reduces breakouts, minimizes appearance of pores, and soothes inflammation — for clearer skin over time.</div>
          </div>
          <div class="acc-item">
            <div class="acc-header">INGREDIENTS <i class="fa-solid fa-chevron-down"></i></div>
            <div class="acc-body">Key ingredients: Tea Tree Oil, Salicylic Acid, Glycerin, Niacinamide, Aloe Vera, Mild Surfactants.</div>
          </div>
          <div class="acc-item">
            <div class="acc-header">INFO <i class="fa-solid fa-chevron-down"></i></div>
            <div class="acc-body">150ml | Store in cool dry place | For external use only. Patch test recommended for sensitive skin.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- REVIEWS -->
    <div class="reviews">
      <div class="reviews-top">
        <div style="min-width:180px; text-align:center;">
          <div class="rating-big">4.3</div>
          <div class="small-muted">out of 5</div>
          <div style="margin-top:8px;"><span style="color:#f5b400;font-size:18px;">★★★★★</span></div>
          <div class="small-muted" style="margin-top:6px;">Based on 120 reviews</div>
        </div>

        <div class="rating-bars">
          <div class="bar-row"><div class="label">5 star</div><div class="bar"><span style="width:60%"></span></div><div style="width:32px;text-align:right;color:var(--muted)">72</div></div>
          <div class="bar-row"><div class="label">4 star</div><div class="bar"><span style="width:20%"></span></div><div style="width:32px;text-align:right;color:var(--muted)">24</div></div>
          <div class="bar-row"><div class="label">3 star</div><div class="bar"><span style="width:8%"></span></div><div style="width:32px;text-align:right;color:var(--muted)">10</div></div>
          <div class="bar-row"><div class="label">2 star</div><div class="bar"><span style="width:2%"></span></div><div style="width:32px;text-align:right;color:var(--muted)">2</div></div>
          <div class="bar-row"><div class="label">1 star</div><div class="bar"><span style="width:0%"></span></div><div style="width:32px;text-align:right;color:var(--muted)">12</div></div>
        </div>

        <div style="min-width:200px; text-align:center;">
          <button class="write-review-btn" id="toggleReviewBtn">Write a review</button>
        </div>
      </div>

      <div style="margin-top:12px; color:var(--muted);">Pictures First ▼</div>

      <div class="review-list" id="reviewList">
        <div class="review-item">
          <h4>★★★★★ &nbsp; Tanmana Pal <span class="small-muted" style="margin-left:8px;">Verified</span></h4>
          <div class="small-muted">Tea Tree Pore Clarifying Gel Cleanser 150ml — 11/26/2024</div>
          <p>Love the product — removes oil and dirt with little quantity. Highly recommend for acne-prone skin.</p>
        </div>

        <div class="review-item">
          <h4>★★★★★ &nbsp; Shailja Ojha <span class="small-muted" style="margin-left:8px;">Verified</span></h4>
          <div class="small-muted">11/22/2024</div>
          <p>Amazing! It worked well on my skin — reduced breakouts and left my face feeling clean without over-drying.</p>
        </div>
      </div>

      <div class="review-form" id="reviewForm">
        <input id="reviewName" placeholder="Your name" />
        <input id="reviewTitle" placeholder="Title (e.g., 'Works great')" />
        <textarea id="reviewText" rows="4" placeholder="Write your review"></textarea>
        <div style="display:flex; gap:8px; align-items:center;">
          <input id="reviewProduct" placeholder="Product name (optional)" style="flex:1" />
          <button id="submitReviewBtn">Submit Review</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ---------- Slider: images + video ---------- */
    const thumbs = document.querySelectorAll('#thumbs .thumb');
    const mainImage = document.getElementById('mainImage');
    const mainVideo = document.getElementById('mainVideo');
    const playOverlay = document.getElementById('playOverlay');

    // Helper: show image
    function showImage(src) {
      // pause and hide video if visible
      if (!mainVideo.paused) mainVideo.pause();
      mainVideo.style.display = 'none';
      mainVideo.currentTime = 0;
      playOverlay.style.display = 'none';

      mainImage.src = src;
      mainImage.style.display = 'block';
    }

    // Helper: show video (but do not autoplay)
    function showVideo(src) {
      mainImage.style.display = 'none';
      mainVideo.style.display = 'block';
      // update src if different
      const currentSrc = mainVideo.querySelector('source')?.src || '';
      if (currentSrc !== src) {
        mainVideo.pause();
        mainVideo.querySelector('source').src = src;
        mainVideo.load();
      }
      // show overlay play button so user must click
      playOverlay.style.display = 'flex';
    }

    // Initialize: set default from first thumb that's image
    (function initMedia() {
      const first = document.querySelector('#thumbs .thumb.active') || thumbs[0];
      if (first.dataset.type === 'video') {
        showVideo(first.dataset.videoSrc);
        // mark overlay visible
        playOverlay.style.display = 'flex';
      } else {
        showImage(first.dataset.full);
      }
    })();

    // Thumb click handling
    thumbs.forEach(t => {
      t.addEventListener('click', () => {
        thumbs.forEach(x => x.classList.remove('active'));
        t.classList.add('active');

        if (t.dataset.type === 'video') {
          showVideo(t.dataset.videoSrc);
        } else {
          showImage(t.dataset.full);
        }
      });
    });

    // Play overlay click: user-initiated play
    playOverlay.addEventListener('click', () => {
      if (mainVideo.style.display === 'block') {
        // user clicked to play
        mainVideo.play();
        playOverlay.style.display = 'none';
      } else {
        // if overlay shown over image (edge-case), open video
        const videoThumb = document.querySelector('#thumbs .thumb[data-type="video"]');
        if (videoThumb) {
          videoThumb.click();
          // then play after tiny delay
          setTimeout(()=>{ mainVideo.play(); playOverlay.style.display='none'; }, 200);
        }
      }
    });

    // If user clicks native play in video controls, hide overlay
    mainVideo.addEventListener('play', ()=> { playOverlay.style.display='none'; });

    /* ---------- QTY SELECTOR ---------- */
    const decBtn = document.getElementById('decBtn');
    const incBtn = document.getElementById('incBtn');
    const qtyInput = document.getElementById('qtyInput');
    decBtn.addEventListener('click', ()=> { let v = parseInt(qtyInput.value)||1; if(v>1) qtyInput.value = v-1; });
    incBtn.addEventListener('click', ()=> { let v = parseInt(qtyInput.value)||1; qtyInput.value = v+1; });

    /* ---------- PINCODE CHECK (simulation) ---------- */
    const checkPinBtn = document.getElementById('checkPinBtn');
    const pincodeInput = document.getElementById('pincodeInput');
    const pincodeResult = document.getElementById('pincodeResult');
    checkPinBtn.addEventListener('click', () => {
      const pin = pincodeInput.value.trim();
      if(!pin || !/^\d{4,6}$/.test(pin)){
        pincodeResult.style.color = '#d14b4b';
        pincodeResult.textContent = 'Please enter a valid pincode (4-6 digits).';
        return;
      }
      const availablePins = ['110001','400001','700001','560001','600001'];
      if(availablePins.includes(pin)){
        pincodeResult.style.color = 'var(--green)';
        pincodeResult.textContent = 'Available for delivery to this pincode.';
      } else {
        pincodeResult.style.color = '#d14b4b';
        pincodeResult.textContent = 'Not available for delivery to this pincode (simulated).';
      }
    });

    /* ---------- ACCORDION ---------- */
    document.querySelectorAll('.acc-item .acc-header').forEach(header=>{
      header.addEventListener('click', ()=>{
        const body = header.nextElementSibling;
        const open = body.style.display === 'block';
        document.querySelectorAll('.acc-body').forEach(b=>b.style.display='none');
        if(!open) body.style.display = 'block';
      });
    });

    /* ---------- REVIEWS: toggle and submit ---------- */
    const toggleReviewBtn = document.getElementById('toggleReviewBtn');
    const reviewForm = document.getElementById('reviewForm');
    const submitReviewBtn = document.getElementById('submitReviewBtn');
    const reviewList = document.getElementById('reviewList');

    toggleReviewBtn.addEventListener('click', ()=>{
      reviewForm.style.display = (reviewForm.style.display === 'block') ? 'none' : 'block';
      if(reviewForm.style.display === 'block') reviewForm.scrollIntoView({behavior:'smooth', block:'center'});
    });

    submitReviewBtn.addEventListener('click', ()=>{
      const name = document.getElementById('reviewName').value.trim() || 'Anonymous';
      const title = document.getElementById('reviewTitle').value.trim() || 'Review';
      const text = document.getElementById('reviewText').value.trim();
      const product = document.getElementById('reviewProduct').value.trim();

      if(!text){
        alert('Please write your review before submitting.');
        return;
      }
      const now = new Date();
      const d = now.toLocaleDateString();
      const item = document.createElement('div');
      item.className = 'review-item';
      item.innerHTML = `<h4>★★★★★ &nbsp; ${escapeHtml(name)} <span class="small-muted" style="margin-left:8px;">Verified</span></h4>
                        <div class="small-muted">${escapeHtml(product || 'Tea Tree Pore Clarifying Gel Cleanser 150ml')} — ${d}</div>
                        <p>${escapeHtml(text)}</p>`;
      reviewList.insertBefore(item, reviewList.firstChild);

      document.getElementById('reviewName').value='';
      document.getElementById('reviewTitle').value='';
      document.getElementById('reviewText').value='';
      document.getElementById('reviewProduct').value='';
      reviewForm.style.display='none';
      item.scrollIntoView({behavior:'smooth', block:'center'});
    });

    function escapeHtml(str){ return String(str).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;'); }
  </script>
</body>
</html>
